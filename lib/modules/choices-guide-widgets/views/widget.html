<link rel="stylesheet" type="text/css" href="{{data.widget.openstadComponentsUrl}}/css/all.css?{{data.widget.assetsGeneration}}"/>

<style>
 {{data.widget.formattedContainerStyles}}
</style>

<script src="https://unpkg.com/react@16/umd/react.production.min.js"></script>
<script src="https://unpkg.com/react-dom@16/umd/react-dom.production.min.js"></script>
<script src="{{data.widget.openstadComponentsUrl}}/all.js?{{data.widget.assetsGeneration}}"></script>

<script>
 window.addEventListener('load', function(e) {
   let config = {{data.widget.config | safe}};
   let element = document.querySelector('.openstad-component-choices-guide');
   OpenStadComponents.ChoicesGuide.renderElement(element, config);

   // accordeons in content
	 document.addEventListener('osc-choices-guide-is-ready', function(event) {
     var elements = document.querySelectorAll('.osc-accordeon-item .osc-title');
     for ( var i=0; i<elements.length; i++) {
       elements[i].addEventListener('click', function() {
         if( this.parentNode.className.match(' osc-closed') ) {
           this.parentNode.className = this.parentNode.className.replace(' osc-closed', ' osc-open');
         } else {
           this.parentNode.className = this.parentNode.className.replace(' osc-open', ' osc-closed');
         }
       })
     }
   });
   
 });
</script>
<div id="{{data.widget.containerId}}" class="osc-component">
	<div class="openstad-component-choices-guide"></div>
</div>
